!function(){"use strict";angular.module(APP.MODULE.FILE,[])}(),function(){"use strict";angular.module(APP.MODULE.WORKER,[])}(),function(){"use strict";function a(a,b,c){function d(a,b,d){this.start=a,this.end=b,this.file=d,this.firstLine,this.lastLine,this.lines=[],this.reader=new c(d),this.deferred}return d.prototype.serialize=function(){return{executable:"ChunkMapper",parameters:[this.start,this.end,this.file],properties:{index:this.index,firstLine:this.firstLine,lastLine:this.lastLine,lines:this.lines}}},d.prototype.execute=function(){return this.deferred=a.defer(),this.reader.readBytes(this.start,this.end).then(this.mapChunk(this)),this.deferred.promise},d.prototype.cancel=function(){this.deferred.reject("CANCELLED")},d.prototype.mapChunk=function(a){var c=a;return function(a){for(var d=new Uint8Array(a),e=c.start,f=0;f<d.length;f++)if(10===d[f]){var g=c.start+f;if(c.firstLine){var h=new b(e,g,!0);c.lines.push(h)}else c.firstLine=new b(e,g,!0);e=g+1}e<c.start+d.length&&(c.lastLine=new b(e,c.start+d.length,!1)),c.deferred.resolve(c.serialize())}},d}angular.module(APP.MODULE.FILE).factory("ChunkMapper",["$q","Line","fileReaderSrvc",a])}(),function(){"use strict";function a(){function a(a,b,c){this.row,this.start=a,this.end=b,this.hasLineFeed=c}return a}angular.module(APP.MODULE.FILE).factory("Line",[a])}(),function(){"use strict";function a(a){function b(a){this.file=a}function c(a,b){return function(){b.resolve(a.result)}}function d(a,b){return function(){b.reject(a.result)}}function e(a){var b=new FileReader;return b.onload=c(b,a),b.onerror=d(b,a),b}return b.prototype.readBytes=function(b,c){var d=a.defer(),f=e(d);return f.readAsArrayBuffer(this.file.slice(b,c)),d.promise},b.prototype.read=function(b,c){var d=a.defer(),f=e(d);return f.readAsText(this.file.slice(b,c)),d.promise},b}angular.module(APP.MODULE.FILE).factory("fileReaderSrvc",["$q",a])}(),function(){function a(a,b,c){function d(a){postMessage({event:"success",data:a})}function e(a){postMessage({event:"error",data:a})}function f(a){postMessage({event:"notify",data:a})}angular.element(b).on("message",function(b){function g(a){k.resolve(a)}function h(a){k.reject(a)}function i(a){k.notify(a)}var j=b.data,k=a.defer(),l=k.promise;if(l.then(d,e,f),c.has(j.executable)){var m=c.get(j.executable),n=Object.create(m.prototype);m.apply(n,j.parameters);for(var o in j.properties)n[o]=j.properties[o];"function"==typeof n.execute?n.execute().then(g,h,i):k.reject("executable does not contain an execute function")}else k.reject("Executable not Injectable")}),postMessage({event:"initDone"})}angular.module(APP.MODULE.WORKER).run(["$q","$window","$injector",a])}();
//# sourceMappingURL=Worker.min.js.map