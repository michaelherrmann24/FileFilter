{"version":3,"sources":["../../javascript/file/FileModule.js","../../javascript/filter/FilterModule.js","../../javascript/worker/WorkerModule.js","../../javascript/file/factory/ChunkMapper.js","../../javascript/file/factory/Line.js","../../javascript/file/service/FileReaderService.js","../../javascript/filter/factory/FilterChunkProcessor.js","../../javascript/worker/remote/Worker.js"],"names":["angular","module","APP","MODULE","FILE","FILTER","WORKER","ChunkMapperService","$q","Line","fileReaderSrvc","ChunkMapper","start","end","file","this","firstLine","lastLine","lines","reader","deferred","index","prototype","serialize","executable","parameters","properties","execute","defer","readBytes","then","mapChunk","bind","promise","cancel","reject","chunk","view","Uint8Array","startLine","i","length","lineEnd","line","push","resolve","factory","LineFactory","LineModel","hasLinefeed","row","hasLineFeed","FileReaderService","onLoad","result","onError","getReader","FileReader","onload","onerror","startBytes","endBytes","readAsArrayBuffer","slice","read","readAsText","FilterChunkProcessorFactory","FilterChunkProcessor","filterValue","split","map","isVisible","lineTxt","search","Runner","$window","$injector","postSuccess","postMessage","event","data","postError","postNotify","msgProcessor","resolveSuccess","output","resolveError","resolveNotify","notify","exec","input","has","get","Object","create","apply","onmessage","run"],"mappings":"AAAA,CAAA,AAAC,QAAQ,GAAG,AACX,CADY,WAEZA,SAAQC,OAAOC,IAAIC,OAAOC,YCF3B,WACC,YACAJ,SAAQC,OAAOC,IAAIC,OAAOE,cCF3B,WACC,YACAL,SAAQC,OAAOC,IAAIC,OAAOG,cCF3B,WACC,YAGA,SAASC,GAAkBC,EAAIC,EAAKC,GASnC,QAASC,GAAYC,EAAMC,EAAIC,GAC9BC,KAAKH,MAAQA,EACbG,KAAKF,IAAMA,EACXE,KAAKD,KAAOA,EACZC,KAAKC,UACLD,KAAKE,SACLF,KAAKG,SACLH,KAAKI,OAAS,GAAIT,GAAeI,GACjCC,KAAKK,SACLL,KAAKM,MAmDN,MA7CAV,GAAYW,UAAUC,UAAY,WACjC,OACCC,WAAU,cACVC,YAAYV,KAAKH,MAAMG,KAAKF,IAAIE,KAAKD,MACrCY,YACCL,MAAMN,KAAKM,MACXL,UAAUD,KAAKC,UACfC,SAASF,KAAKE,SACdC,MAAMH,KAAKG,SAKdP,EAAYW,UAAUK,QAAU,WAI/B,MAHAZ,MAAKK,SAAWZ,EAAGoB,QAEnBb,KAAKI,OAAOU,UAAUd,KAAKH,MAAMG,KAAKF,KAAKiB,KAAKf,KAAKgB,SAASC,KAAKjB,OAC5DA,KAAKK,SAASa,SAEtBtB,EAAYW,UAAUY,OAAS,WAC9BnB,KAAKK,SAASe,OAAM,cAErBxB,EAAYW,UAAUS,SAAW,SAASK,GAIxC,IAAK,GAFDC,GAAO,GAAIC,YAAWF,GACtBG,EAAYxB,KAAKH,MACZ4B,EAAI,EAAGA,EAAIH,EAAKI,OAAQD,IACvB,GAAgB,KAAZH,EAAKG,GAAW,CACnB,GAAIE,GAAU3B,KAAKH,MAAQ4B,CACxB,IAAIzB,KAAKC,UAEJ,CACJ,GAAI2B,GAAO,GAAIlC,GAAK8B,EAAUG,GAAQ,EACtC3B,MAAKG,MAAM0B,KAAKD,OAHhB5B,MAAKC,UAAY,GAAIP,GAAK8B,EAAUG,GAAQ,EAK7CH,GAAYG,EAAU,EAI3BH,EAAYxB,KAAKH,MAAQyB,EAAKI,SAChC1B,KAAKE,SAAW,GAAIR,GAAK8B,EAAUxB,KAAKH,MAAQyB,EAAKI,QAAO,IAEnE1B,KAAKK,SAASyB,QAAQ9B,OAGjBJ,EAvERX,QAAQC,OAAOC,IAAIC,OAAOC,MAAM0C,QAAO,eAAa,KAAM,OAAO,iBAAmBvC,OCFrF,WACC,YAGA,SAASwC,KAER,QAASC,GAAUpC,EAAMC,EAAIoC,GAC5BlC,KAAKmC,IACLnC,KAAKH,MAAQA,EACbG,KAAKF,IAAMA,EACXE,KAAKoC,YAAcF,EAGpB,MAAOD,GAXRhD,QAAQC,OAAOC,IAAIC,OAAOC,MAAM0C,QAAO,QAASC,OCFjD,WACC,YAGA,SAASrC,GAAcF,GAKtB,QAAS4C,GAAkBtC,GAC1BC,KAAKD,KAAOA,EAgCb,QAASuC,GAAOlC,EAAQC,GACd,MAAO,YACNA,EAASyB,QAAQ1B,EAAOmC,SAO7B,QAASC,GAAQpC,EAAQC,GACrB,MAAO,YACNA,EAASe,OAAOhB,EAAOmC,SAO5B,QAASE,GAAUpC,GACf,GAAID,GAAS,GAAIsC,WAGjB,OAFAtC,GAAOuC,OAASL,EAAOlC,EAAQC,GAC/BD,EAAOwC,QAAUJ,EAAQpC,EAAQC,GAC1BD,EAGjB,MAhDAiC,GAAkB9B,UAAUO,UAAY,SAAS+B,EAAWC,GAC3D,GAAIzC,GAAWZ,EAAGoB,QACdT,EAASqC,EAAUpC,EAEvB,OADAD,GAAO2C,kBAAkB/C,KAAKD,KAAKiD,MAAMH,EAAWC,IAC7CzC,EAASa,SASjBmB,EAAkB9B,UAAU0C,KAAO,SAASJ,EAAWC,GACtD,GAAIzC,GAAWZ,EAAGoB,QACdT,EAASqC,EAAUpC,EAEvB,OADAD,GAAO8C,WAAWlD,KAAKD,KAAKiD,MAAMH,EAAWC,IACtCzC,EAASa,SA+BVmB,EAjERpD,QAAQC,OAAOC,IAAIC,OAAOC,MAAM0C,QAAO,kBAAgB,KAAQpC,OCFhE,WACC,YAGA,SAASwD,GAA2B1D,EAAIE,GASvC,QAASyD,GAAqBvD,EAAMC,EAAIC,EAAKsD,GAC5CrD,KAAKH,MAAQA,EACbG,KAAKF,IAAMA,EACXE,KAAKD,KAAOA,EACZC,KAAKqD,YAAcA,EACnBrD,KAAKuC,UACLvC,KAAKK,SACLL,KAAKM,MAqCN,MA9BA8C,GAAqB7C,UAAUC,UAAY,WAE1C,aADOR,MAAKK,UAEXI,WAAU,uBACVC,YAAYV,KAAKH,MAAMG,KAAKF,IAAIE,KAAKD,KAAKC,KAAKqD,aAC/C1C,YACCL,MAAMN,KAAKM,MACXiC,OAAOvC,KAAKuC,UAKfa,EAAqB7C,UAAUK,QAAU,WACxCZ,KAAKK,SAAWZ,EAAGoB,OACnB,IAAIT,GAAS,GAAIT,GAAeK,KAAKD,KAErC,OADAK,GAAO6C,KAAKjD,KAAKH,MAAMG,KAAKF,KAAKiB,KAAKf,KAAKgB,SAASC,KAAKjB,OAClDA,KAAKK,SAASa,SAEtBkC,EAAqB7C,UAAUY,OAAS,WACvCnB,KAAKK,SAASe,OAAM,cAErBgC,EAAqB7C,UAAUS,SAAW,SAASK,GAClDrB,KAAKuC,OAASlB,EAAMiC,MAAK,WAAYC,IAAIvD,KAAKwD,UAAUvC,KAAKjB,OAC7DA,KAAKK,SAASyB,QAAQ9B,OAGvBoD,EAAqB7C,UAAUiD,UAAY,SAASC,GACnD,MAA4C,KAArCA,EAAQC,OAAO1D,KAAKqD,cAGrBD,EAvDRnE,QAAQC,OAAOC,IAAIC,OAAOE,QAAQyC,QAAO,wBAAsB,KAAM,iBAAmBoB,OCFzF,WACC,YASA,SAASQ,GAAMlE,EAAGmE,EAAQC,GAKzB,QAASC,GAAYvB,GACpBwB,aAAaC,MAAK,UAAWC,KAAK1B,EAAO/B,cAG1C,QAAS0D,GAAU3B,GAClBwB,aAAaC,MAAK,QAASC,KAAK1B,IAGjC,QAAS4B,GAAW5B,GACnBwB,aAAaC,MAAK,SAAUC,KAAK1B,IAGlC,QAAS6B,GAAaJ,GA+BrB,QAASK,GAAe9B,GACvB+B,EAAOxC,QAAQS,GAGhB,QAASgC,GAAahC,GACrB+B,EAAOlD,OAAOmB,GAGf,QAASiC,GAAcjC,GACtB+B,EAAOG,OAAOlC,GAtCf,GAGI9B,GACAiE,EAJAC,EAAQX,EAAMC,KACdK,EAAS7E,EAAGoB,QACZK,EAAUoD,EAAOpD,OAKrB,IADAA,EAAQH,KAAK+C,EAAYI,EAAUC,GACjCN,EAAWe,IAAID,EAAMlE,YAAU,CAEhCA,EAAaoD,EAAUgB,IAAIF,EAAMlE,YAEjCiE,EAAOI,OAAOC,OAAOtE,EAAWF,WAEhCE,EAAWuE,MAAMN,EAAMC,EAAMjE,WAE7B,KAAI,GAAIe,KAAKkD,GAAMhE,WAClB+D,EAAKjD,GAAKkD,EAAMhE,WAAWc,EAIC,mBAAlBiD,GAAY,QACtBA,EAAK9D,UAAUG,KAAKsD,EAAeE,EAAaC,GAEhDF,EAAOlD,OAAM,uDAGdkD,GAAOlD,OAAM,6BA3Cf6D,UAAUb,EACVL,aAAaC,MAAK,aAXnB/E,QAAQC,OAAOC,IAAIC,OAAOG,QAAQ2F,KAAG,KAAK,UAAU,YAAcvB;APDnE,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;AACf,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,KAAK,CAAC;AACrC,K,CCHA,CAAC,QAAQ,GAAG;AACZ,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC;AACb,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,KAAK;AACtC,KAAK;CCHL,CAAC,QAAQ,GAAG;AACZ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE;AACd,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,KAAK;AACtC,KAAK;CCHL,CAAC,QAAQ,GAAG;AACZ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE;AACd,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,WAAW,KAAK,CAAC,GAAG,IAAI,GAAG,cAAc,EAAE,kBAAkB,GAAG;AAC1G;AACA,CAAC,QAAQ,CAAC,kBAAkB,EAAE,CAAC,CAAC,IAAI,CAAC,cAAc,EAAE;AACrD;AACA,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC;AAChG,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC;AAC9B,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,WAAW,CAAC;AACzC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;AACzC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC;AACzC,GAAG,EAAE;AACL,EAAE,QAAQ,CAAC,WAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,EAAE;AACvC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;AACtB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;AAClB,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;AACpB,GAAG,IAAI,CAAC,SAAS,CAAC;AAClB,GAAG,IAAI,CAAC,QAAQ,CAAC;AACjB,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG;AACnB,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,EAAE;AAC1C,GAAG,IAAI,CAAC,QAAQ,CAAC;AACjB,GAAG,IAAI,CAAC,KAAK,CAAC;AACd,EAAE,EAAE;AACJ,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;AACzH,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,WAAW,CAAC;AACnC,GAAG,EAAE;AACL,EAAE,WAAW,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,GAAG;AAC/C,GAAG,MAAM,CAAC,CAAC;AACX,IAAI,UAAU,EAAE,WAAW,EAAE;AAC7B,IAAI,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,EAAE;AAC/C,IAAI,UAAU,EAAE;AAChB,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AACtB,KAAK,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC;AAC9B,KAAK,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC;AAC5B,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK;AACrB,IAAI,CAAC;AACL,GAAG,EAAE;AACL,EAAE,EAAE;AACJ;AACA,EAAE,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,GAAG;AAC7C,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG;AAC9B,GAAG,EAAE,OAAO,CAAC,KAAK,EAAE,OAAO,CAAC,IAAI,EAAE,IAAI,EAAE;AACxC,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,GAAG;AAC7E,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;AAChC,EAAE,EAAE;AACJ,EAAE,WAAW,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,GAAG;AAC5C,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS,GAAG;AACrC,EAAE,EAAE;AACJ,EAAE,WAAW,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE;AACnD;AACA,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,CAAC,KAAK,EAAE;AACrC,IAAI,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC;AAC/B,IAAI,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;AAC3C,cAAc,EAAE,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;AACnC,eAAe,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;AAC5C,kBAAkB,EAAE,EAAE,IAAI,CAAC,SAAS,EAAE;AACtC,mBAAmB,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE;AACrE,kBAAkB,CAAC,IAAI,CAAC;AACxB,mBAAmB,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE;AAC/D,mBAAmB,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE;AACzC,kBAAkB,CAAC;AACnB,kBAAkB,SAAS,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;AAC1C,cAAc,CAAC;AACf,UAAU,CAAC;AACX;AACA,UAAU,EAAE,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,EAAE;AACnD,WAAW,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE;AAC9E,UAAU,CAAC;AACX,IAAI,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE;AAChC,EAAE,EAAE;AACJ;AACA,EAAE,MAAM,CAAC,WAAW;AACpB,CAAC,EAAE;AACH,KAAK;CC3EL,CAAC,QAAQ,GAAG;AACZ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE;AACd,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,IAAI,GAAG,WAAW,GAAG;AAC/D;AACA,CAAC,QAAQ,CAAC,WAAW,GAAG;AACxB;AACA,EAAE,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,EAAE;AAC5C,GAAG,IAAI,CAAC,GAAG,CAAC;AACZ,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;AACtB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;AAClB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW,CAAC;AAClC,EAAE,EAAE;AACJ;AACA,EAAE,MAAM,CAAC,SAAS;AAClB,CAAC,EAAE;AACH,KAAK;CCfL,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AACd,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE;AACd,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,OAAO,EAAE,cAAc,KAAK,CAAC,EAAE,cAAc,GAAG;AACjF,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,KAAK,CAAC;AACtB,CAAC,QAAQ,CAAC,cAAc,EAAE,CAAC,EAAE;AAC7B;AACA,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU,CAAC,OAAO,CAAC;AAChC,GAAG,EAAE;AACL,EAAE,QAAQ,CAAC,iBAAiB,CAAC,IAAI,EAAE;AACnC,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;AACpB,EAAE,EAAE;AACJ;AACA,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;AACxC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU;AACtB,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ;AACpB,GAAG,CAAC,CAAC,CAAC,OAAO;AACb,GAAG,EAAE;AACL,EAAE,iBAAiB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE;AACxE,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG;AAC7B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,EAAE;AACpC,GAAG,MAAM,CAAC,iBAAiB,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,QAAQ,GAAG;AAClE,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;AAC3B,EAAE,EAAE;AACJ;AACA,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;AACxC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU;AACtB,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,QAAQ;AACpB,GAAG,CAAC,CAAC,CAAC,OAAO;AACb,GAAG,EAAE;AACL,EAAE,iBAAiB,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC,CAAC,QAAQ,CAAC,UAAU,CAAC,QAAQ,EAAE;AACnE,GAAG,GAAG,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG;AAC7B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,SAAS,CAAC,QAAQ,EAAE;AACpC,GAAG,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,UAAU,CAAC,QAAQ,GAAG;AAC3D,GAAG,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC;AAC3B,EAAE,EAAE;AACJ;AACA,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC;AACrD,GAAG,EAAE;AACL,EAAE,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AACrC,YAAY,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAChC,aAAa,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,MAAM,EAAE;AAC7C,YAAY,EAAE;AACd,QAAQ,EAAE;AACV;AACA,QAAQ,GAAG;AACX,SAAS,CAAC,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK;AAChD,SAAS,EAAE;AACX,QAAQ,QAAQ,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAC5C,YAAY,MAAM,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;AAChC,aAAa,QAAQ,CAAC,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE;AAC5C,YAAY,EAAE;AACd,QAAQ,EAAE;AACV;AACA,QAAQ,GAAG;AACX,SAAS,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC;AAC5F,SAAS,EAAE;AACX,QAAQ,QAAQ,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC;AACtC,YAAY,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,UAAU,GAAG,CAAC,EAAE,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC;AAC/E,YAAY,MAAM,CAAC,MAAM,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE;AACrD,YAAY,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,OAAO,CAAC,MAAM,CAAC,CAAC,QAAQ,EAAE;AACvD,YAAY,MAAM,CAAC,MAAM,CAAC;AAC1B,QAAQ,EAAE;AACV;AACA,EAAE,MAAM,CAAC,iBAAiB,CAAC;AAC3B,CAAC,EAAE;AACH,KAAK;CCrEL,CAAC,QAAQ,GAAG;AACZ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE;AACd,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,OAAO,EAAE,oBAAoB,KAAK,CAAC,GAAG,cAAc,EAAE,2BAA2B,GAAG;AACvH;AACA,CAAC,QAAQ,CAAC,2BAA2B,EAAE,CAAC,CAAC,cAAc,EAAE;AACzD;AACA,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,EAAE,CAAC,UAAU,CAAC,GAAG,CAAC,EAAE,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,EAAE,CAAC,EAAE,CAAC,QAAQ,CAAC;AAChG,GAAG,CAAC,CAAC,CAAC,WAAW,CAAC,WAAW,CAAC;AAC9B,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,KAAK,EAAE,CAAC,WAAW,CAAC;AACzC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG,IAAI,CAAC,WAAW,CAAC;AACzC,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,MAAM,CAAC,CAAC,WAAW,CAAC;AACzC,GAAG,EAAE;AACL,EAAE,QAAQ,CAAC,oBAAoB,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,WAAW,EAAE;AAC5D,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC;AACtB,GAAG,IAAI,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC;AAClB,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;AACpB,GAAG,IAAI,CAAC,WAAW,CAAC,CAAC,CAAC,WAAW;AACjC,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG;AACpB,GAAG,IAAI,CAAC,QAAQ,CAAC;AACjB,GAAG,IAAI,CAAC,KAAK,CAAC;AACd;AACA,EAAE,EAAE;AACJ,EAAE,GAAG;AACL,GAAG,CAAC,CAAC,OAAO,CAAC,GAAG,CAAC,GAAG,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,OAAO,CAAC;AACzH,GAAG,CAAC,CAAC,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,WAAW,CAAC;AACnC,GAAG,EAAE;AACL,EAAE,oBAAoB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,GAAG;AACxD,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;AACxB,GAAG,MAAM,CAAC,CAAC;AACX,IAAI,UAAU,EAAE,oBAAoB,EAAE;AACtC,IAAI,UAAU,EAAE,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,EAAE;AAChE,IAAI,UAAU,EAAE;AAChB,KAAK,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC;AACtB,KAAK,MAAM,CAAC,IAAI,CAAC,MAAM;AACvB,IAAI,CAAC;AACL,GAAG,EAAE;AACL,EAAE,EAAE;AACJ;AACA,EAAE,oBAAoB,CAAC,SAAS,CAAC,OAAO,CAAC,CAAC,CAAC,QAAQ,GAAG;AACtD,GAAG,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG;AAC9B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,cAAc,CAAC,IAAI,CAAC,IAAI,EAAE;AAC9C,GAAG,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,IAAI,GAAG;AACnE,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC;AAChC,EAAE,EAAE;AACJ,EAAE,oBAAoB,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC,CAAC,QAAQ,GAAG;AACrD,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,SAAS,GAAG;AACrC,EAAE,EAAE;AACJ,EAAE,oBAAoB,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE;AAC5D,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,IAAI,GAAG;AACvE,GAAG,IAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE;AAC/B,EAAE,EAAE;AACJ;AACA,EAAE,oBAAoB,CAAC,SAAS,CAAC,SAAS,CAAC,CAAC,CAAC,QAAQ,CAAC,OAAO,EAAE;AAC/D,GAAG,MAAM,CAAC,OAAO,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;AAClD,EAAE,EAAE;AACJ;AACA,EAAE,MAAM,CAAC,oBAAoB;AAC7B,CAAC,EAAE;AACH,KAAK;CC3DL,CAAC,QAAQ,GAAG;AACZ,CAAC,CAAC,GAAG,CAAC,MAAM,EAAE;AACd,CAAC,OAAO,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,IAAI,CAAC,IAAI,MAAM,IAAI,QAAQ,EAAE,MAAM,GAAG;AAC5E;AACA,CAAC,GAAG;AACJ,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC;AACxH,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,CAAC;AAC3C,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,MAAM,GAAG,CAAC,WAAW,CAAC;AAC3C,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE,IAAI,EAAE,CAAC,CAAC,QAAQ,CAAC,CAAC,WAAW,CAAC;AAC3C,EAAE,EAAE;AACJ,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,QAAQ,EAAE;AACvC;AACA,EAAE,SAAS,CAAC,YAAY,CAAC;AACzB,EAAE,WAAW,EAAE,KAAK,EAAE,QAAQ,IAAI;AAClC;AACA,EAAE,QAAQ,CAAC,WAAW,CAAC,MAAM,EAAE;AAC/B,GAAG,WAAW,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC,MAAM,CAAC,SAAS,KAAK;AAC1D,EAAE,EAAE;AACJ;AACA,EAAE,QAAQ,CAAC,SAAS,CAAC,MAAM,EAAE;AAC7B,GAAG,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,IAAI,CAAC,MAAM,GAAG;AAC5C,EAAE,EAAE;AACJ;AACA,EAAE,QAAQ,CAAC,UAAU,CAAC,MAAM,EAAE;AAC9B,GAAG,WAAW,EAAE,KAAK,EAAE,MAAM,EAAE,IAAI,CAAC,MAAM,GAAG;AAC7C,EAAE,EAAE;AACJ;AACA,EAAE,QAAQ,CAAC,YAAY,CAAC,KAAK,EAAE;AAC/B;AACA,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC;AAC1B,GAAG,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,GAAG;AAC3B,GAAG,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC;AAChC,GAAG,GAAG,CAAC,UAAU,CAAC;AAClB,GAAG,GAAG,CAAC,IAAI,CAAC;AACZ;AACA,GAAG,OAAO,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,UAAU,EAAE;AAClD,GAAG,EAAE,EAAE,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,GAAG;AACvC,IAAI,EAAE,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,QAAQ;AAC1C,IAAI,UAAU,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,EAAE;AACjD,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,QAAQ,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,OAAO,CAAC;AAC5D,IAAI,IAAI,CAAC,CAAC,CAAC,MAAM,CAAC,MAAM,CAAC,UAAU,CAAC,SAAS,EAAE;AAC/C,IAAI,EAAE,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,EAAE,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,QAAQ,CAAC,SAAS,CAAC;AAChG,IAAI,UAAU,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC,KAAK,CAAC,UAAU,EAAE;AAC7C;AACA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,CAAC,EAAE,CAAC,KAAK,CAAC,UAAU,EAAE;AACnC,KAAK,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,EAAE;AACnC,IAAI,CAAC;AACL;AACA,IAAI,EAAE,QAAQ,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,aAAa;AAChE,IAAI,EAAE,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,CAAC,QAAQ,EAAE,CAAC,CAAC;AAC9C,KAAK,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,cAAc,CAAC,YAAY,CAAC,aAAa,EAAE;AACpE,IAAI,CAAC,IAAI,CAAC;AACV,KAAK,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,QAAQ,GAAG;AACtE,IAAI,CAAC;AACL,GAAG,CAAC,IAAI,CAAC;AACT,IAAI,MAAM,CAAC,MAAM,EAAE,UAAU,CAAC,GAAG,CAAC,UAAU,GAAG;AAC/C,GAAG,CAAC;AACJ;AACA,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,EAAE;AACnC,IAAI,MAAM,CAAC,OAAO,CAAC,MAAM,EAAE;AAC3B,GAAG,EAAE;AACL;AACA,GAAG,QAAQ,CAAC,YAAY,CAAC,MAAM,EAAE;AACjC,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE;AAC1B,GAAG,EAAE;AACL;AACA,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,EAAE;AAClC,IAAI,MAAM,CAAC,MAAM,CAAC,MAAM,EAAE;AAC1B,GAAG,EAAE;AACL,GAAG,QAAQ,CAAC,cAAc,GAAG;AAC7B,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,IAAI,CAAC;AACrB,IAAI,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,CAAC;AACtB,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC;AACvB,IAAI,GAAG,CAAC,UAAU,CAAC,CAAC,CAAC,IAAI,CAAC;AAC1B,IAAI,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC;AACpB,GAAG,EAAE;AACL;AACA,EAAE,EAAE;AACJ;AACA,CAAC,EAAE;AACH;AACA,KAAK","file":"Worker.min.js","sourcesContent":["(function(){\r\n\t\"use strict\";\r\n\tangular.module(APP.MODULE.FILE,[]);\r\n})();","(function(){\n\t\"use strict\"\n\tangular.module(APP.MODULE.FILTER,[]);\n})();\n","(function(){\n\t\"use strict\";\n\tangular.module(APP.MODULE.WORKER,[]);\n})();\n","(function(){\n\t\"use strict\";\n\tangular.module(APP.MODULE.FILE).factory(\"ChunkMapper\",['$q','Line','fileReaderSrvc',ChunkMapperService]);\n\n\tfunction ChunkMapperService($q,Line,fileReaderSrvc){\n\n\t\t/**\n\t\t * an executable for an individual chunk which can be put into the workmanager to be threaded.\n\t\t * [ChunkMapper description]\n\t\t * @param {[type]} start  [description]\n\t\t * @param {[type]} end    [description]\n\t\t * @param {[type]} reader [description]\n\t\t */\n\t\tfunction ChunkMapper(start,end,file){\n\t\t\tthis.start = start;\n\t\t\tthis.end = end;\n\t\t\tthis.file = file;\n\t\t\tthis.firstLine;\n\t\t\tthis.lastLine;\n\t\t\tthis.lines = [];\n\t\t\tthis.reader = new fileReaderSrvc(file);\n\t\t\tthis.deferred;\n\t\t\tthis.index;\n\t\t};\n\t\t/**\n\t\t * returns all the values requred to re-initialise this object. (required when sending this object to the web -workers)\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tChunkMapper.prototype.serialize = function(){\n\t\t\treturn {\n\t\t\t\texecutable:\"ChunkMapper\",\n\t\t\t\tparameters:[this.start,this.end,this.file],\n\t\t\t\tproperties:{\n\t\t\t\t\tindex:this.index,\n\t\t\t\t\tfirstLine:this.firstLine,\n\t\t\t\t\tlastLine:this.lastLine,\n\t\t\t\t\tlines:this.lines\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tChunkMapper.prototype.execute = function(){\n\t\t\tthis.deferred = $q.defer();\n\t\t\t//console.debug(\"execute this\",this);\n\t\t\tthis.reader.readBytes(this.start,this.end).then(this.mapChunk.bind(this));\n\t\t\treturn this.deferred.promise;\n\t\t};\n\t\tChunkMapper.prototype.cancel = function(){\n\t\t\tthis.deferred.reject(\"CANCELLED\");\n\t\t};\n\t\tChunkMapper.prototype.mapChunk = function(chunk){\n\n\t\t\t\tvar view = new Uint8Array(chunk);\n\t\t\t\tvar startLine = this.start;\n\t\t\t\tfor (var i = 0; i < view.length; i++) {\n\t            \tif (view[i] === 10) {\n\t            \t\tvar lineEnd = this.start + i;\n\t                \tif(!this.firstLine){\n\t                \t\tthis.firstLine = new Line(startLine,lineEnd,true);\n\t                \t}else{\n\t                \t\tvar line = new Line(startLine,lineEnd,true);\n\t                \t\tthis.lines.push(line);\n\t                \t}\n\t                \tstartLine = lineEnd + 1;\n\t            \t}\n\t        \t}\n\n\t        \tif(startLine < this.start + view.length){\n\t        \t\tthis.lastLine = new Line(startLine,this.start + view.length,false);\n\t        \t}\n\t\t\t\tthis.deferred.resolve(this);\n\t\t};\n\n\t\treturn ChunkMapper\n\t};\n})();\n","(function(){\n\t\"use strict\";\n\tangular.module(APP.MODULE.FILE).factory(\"Line\",[LineFactory]);\n\n\tfunction LineFactory(){\n\n\t\tfunction LineModel(start,end,hasLinefeed){\n\t\t\tthis.row;\n\t\t\tthis.start = start;\n\t\t\tthis.end = end;\n\t\t\tthis.hasLineFeed = hasLinefeed;\n\t\t};\n\n\t\treturn LineModel\n\t};\n})();\n","(function () {\n\t\"use strict\";\n\tangular.module(APP.MODULE.FILE).factory(\"fileReaderSrvc\",['$q',fileReaderSrvc]);\n\tvar notified = false;\n\tfunction fileReaderSrvc($q){\n\n\t\t/**\n\t\t * wrapped FileReader service.\n\t\t */\n\t\tfunction FileReaderService(file){\n\t\t\tthis.file = file;\n\t\t};\n\n\t\t/**\n\t\t * read the specified chunk fo a file.\n\t\t * @param startBytes\n\t\t * @param endBytes\n\t\t * @returns\n\t\t */\n\t\tFileReaderService.prototype.readBytes = function(startBytes,endBytes){\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar reader = getReader(deferred);\n\t\t\treader.readAsArrayBuffer(this.file.slice(startBytes,endBytes));\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\t/**\n\t\t * read the specified chunk fo a file.\n\t\t * @param startBytes\n\t\t * @param endBytes\n\t\t * @returns\n\t\t */\n\t\tFileReaderService.prototype.read = function(startBytes,endBytes){\n\t\t\tvar deferred = $q.defer();\n\t\t\tvar reader = getReader(deferred);\n\t\t\treader.readAsText(this.file.slice(startBytes,endBytes));\n\t\t\treturn deferred.promise;\n\t\t};\n\n\t\t/**\n\t\t * resolve the promise on file loaded successfully.\n\t\t */\n\t\tfunction onLoad(reader, deferred) {\n            return function () {\n            \tdeferred.resolve(reader.result);\n            };\n        };\n\n        /**\n         * reject the promise on file read error\n         */\n        function onError(reader, deferred) {\n            return function () {\n            \tdeferred.reject(reader.result);\n            };\n        };\n\n        /**\n         * get a FileReader setup with onLoad and onError logic for promise based retrieval.\n         */\n        function getReader(deferred) {\n            var reader = new FileReader(); //std javascript file reader object.\n            reader.onload = onLoad(reader, deferred);\n            reader.onerror = onError(reader, deferred);\n            return reader;\n        };\n\n\t\treturn FileReaderService;\n\t};\n})();\n","(function(){\n\t\"use strict\";\n\tangular.module(APP.MODULE.FILTER).factory(\"FilterChunkProcessor\",['$q','fileReaderSrvc',FilterChunkProcessorFactory]);\n\n\tfunction FilterChunkProcessorFactory($q,fileReaderSrvc){\n\n\t\t/**\n\t\t * an executable for an individual chunk which can be put into the workmanager to be threaded.\n\t\t * [ChunkMapper description]\n\t\t * @param {[type]} start  [description]\n\t\t * @param {[type]} end    [description]\n\t\t * @param {[type]} reader [description]\n\t\t */\n\t\tfunction FilterChunkProcessor(start,end,file,filterValue){\n\t\t\tthis.start = start;\n\t\t\tthis.end = end;\n\t\t\tthis.file = file;\n\t\t\tthis.filterValue = filterValue\n\t\t\tthis.result = [];\n\t\t\tthis.deferred;\n\t\t\tthis.index;\n\n\t\t};\n\t\t/**\n\t\t * returns all the values requred to re-initialise this object. (required when sending this object to the web -workers)\n\t\t * @return {[type]} [description]\n\t\t */\n\t\tFilterChunkProcessor.prototype.serialize = function(){\n\t\t\tdelete this.deferred;\n\t\t\treturn {\n\t\t\t\texecutable:\"FilterChunkProcessor\",\n\t\t\t\tparameters:[this.start,this.end,this.file,this.filterValue],\n\t\t\t\tproperties:{\n\t\t\t\t\tindex:this.index,\n\t\t\t\t\tresult:this.result\n\t\t\t\t}\n\t\t\t};\n\t\t};\n\n\t\tFilterChunkProcessor.prototype.execute = function(){\n\t\t\tthis.deferred = $q.defer();\n\t\t\tvar reader = new fileReaderSrvc(this.file);\n\t\t\treader.read(this.start,this.end).then(this.mapChunk.bind(this));\n\t\t\treturn this.deferred.promise;\n\t\t};\n\t\tFilterChunkProcessor.prototype.cancel = function(){\n\t\t\tthis.deferred.reject(\"CANCELLED\");\n\t\t};\n\t\tFilterChunkProcessor.prototype.mapChunk = function(chunk){\n\t\t\tthis.result = chunk.split(/\\r\\n|\\n/).map(this.isVisible.bind(this));\n\t\t\tthis.deferred.resolve(this);\n\t\t};\n\n\t\tFilterChunkProcessor.prototype.isVisible = function(lineTxt){\n\t\t\treturn lineTxt.search(this.filterValue) !== -1;\n\t\t};\n\n\t\treturn FilterChunkProcessor\n\t};\n})();\n","(function(){\n\t\"use strict\";\n\tangular.module(APP.MODULE.WORKER).run(['$q','$window','$injector',Runner]);\n\n\t/**\n\t * Worker side executable which will create a new instance of an (angular factory) and call the execute function on it.\n\t * @param {[type]} $q        [description]\n\t * @param {[type]} $window   [description]\n\t * @param {[type]} $injector [description]\n\t */\n\tfunction Runner($q,$window,$injector){\n\n\t\tonmessage=msgProcessor;\n\t\tpostMessage({event:'initDone'});\n\n\t\tfunction postSuccess(result){\n\t\t\tpostMessage({event:\"success\",data:result.serialize()});\n\t\t};\n\n\t\tfunction postError(result){\n\t\t\tpostMessage({event:\"error\",data:result});\n\t\t};\n\n\t\tfunction postNotify(result){\n\t\t\tpostMessage({event:\"notify\",data:result});\n\t\t};\n\n\t\tfunction msgProcessor(event){\n\n\t\t\tvar input = event.data;\n\t\t\tvar output = $q.defer();\n\t\t\tvar promise = output.promise;\n\t\t\tvar executable;\n\t\t\tvar exec;\n\n\t\t\tpromise.then(postSuccess,postError,postNotify);\n\t\t\tif($injector.has(input.executable)){\n\t\t\t\t//get the executable from the injector\n\t\t\t\texecutable = $injector.get(input.executable);\n\t\t\t\t//create a new instance of it. (assumes it is a factory)\n\t\t\t\texec = Object.create(executable.prototype);\n\t\t\t\t//adds the contextual data to the obejct (ie. calls the constructor with required arguments)\n\t\t\t\texecutable.apply(exec, input.parameters);\n\n\t\t\t\tfor(var i in input.properties){\n\t\t\t\t\texec[i] = input.properties[i];\n\t\t\t\t}\n\n\t\t\t\t//executes the runnable. resolving its promise appropriately\n\t\t\t\tif (typeof(exec.execute) === 'function') {\n\t\t\t\t\texec.execute().then(resolveSuccess,resolveError,resolveNotify);\n\t\t\t\t}else{\n\t\t\t\t\toutput.reject(\"executable does not contain an execute function\");\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\toutput.reject(\"Executable not Injectable\");\n\t\t\t}\n\n\t\t\tfunction resolveSuccess(result){\n\t\t\t\toutput.resolve(result);\n\t\t\t};\n\n\t\t\tfunction resolveError(result){\n\t\t\t\toutput.reject(result);\n\t\t\t};\n\n\t\t\tfunction resolveNotify(result){\n\t\t\t\toutput.notify(result);\n\t\t\t};\n\t\t\tfunction resolveFinally(){\n\t\t\t\tvar input = null;\n\t\t\t\tvar output = null;\n\t\t\t\tvar promise = null;\n\t\t\t\tvar executable = null;\n\t\t\t\tvar exec = null;\n\t\t\t};\n\n\t\t};\n\n\t};\n\n})();\n"]}