!function(){APP={NAME:"FileFilter",MODULE:{MAIN:"FF_Main",FILE:"FF_File",COMMON:"FF_Common",NAV:"FF_Nav",NAV:"FF_Filters",MENU:"FF_MENU"}},angular.element(document).ready(function(){angular.module(APP.NAME,[APP.MODULE.MAIN,APP.MODULE.FILE,APP.MODULE.COMMON,APP.MODULE.NAV,APP.MODULE.MENU]),angular.bootstrap(document,[APP.NAME])})}(),function(){"use strict";angular.module(APP.MODULE.COMMON,[])}(),function(){"use strict";angular.module(APP.MODULE.FILE,[])}(),function(){"use strict";angular.module(APP.MODULE.FILTERS,[])}(),function(){"use strict";angular.module(APP.MODULE.MAIN,[])}(),function(){"use strict";angular.module(APP.MODULE.MENU,[])}(),function(){"use strict";angular.module(APP.MODULE.NAV,[])}(),function(){"use strict";function a(a,c){a.decorator("$log",function(a){var c={};angular.forEach(a,function(a,b){c[b]=a});var d=["log","info","debug","warn"];return angular.forEach(d,function(d){a[d]=b(c[d])}),a})}function b(a){return function(){var b=[].slice.call(arguments),c=(new Error).stack.split("\n").slice(1);c.shift();var d=c[0].trim(),e=d.match(/\(([^()]+)\)/g),f=d.split(" "),g=f[1],h=e[0].split(":"),i=h[1].split("/"),j=i[i.length-1],k=h[2];b.unshift(j+":"+k+":"+g),a.apply(a,b)}}angular.module(APP.MODULE.COMMON).config(["$provide","$logProvider",a])}(),function(){"use script";function a(a){}angular.module(APP.MODULE.COMMON).config(["$compileProvider",a])}(),function(){"use strict";function a(){return{restrict:"E",templateUrl:"./dist/svg/svg-defs.svg",replace:!0,scope:{}}}angular.module(APP.MODULE.COMMON).directive("svgInclude",[a])}(),function(){"use strict";function a(a,b,c){return{restrict:"E",templateUrl:"./templates/fileContent.htm",replace:!0,scope:{},link:function(a,d,e){a.pageView=c,a.fileView=b}}}angular.module(APP.MODULE.FILE).directive("fileContent",["$log","fileView","pageView",a])}(),function(){function a(a){function b(b,c,d){b.fileView=a}return{restrict:"E",templateUrl:"./templates/fileDetails.htm",replace:!0,transclude:!0,scope:{},controller:["$scope","$element","$attrs",b],controllerAs:"fileDetailsCtrl"}}angular.module(APP.MODULE.FILE).directive("fileDetails",["fileView",a])}(),function(){"use strict";function a(a,b,c){function d(a){this.file=a,this.fileReader,this.fileMap=[]}function e(a,c){return a<c.file.size?c.fileReader.read(a,a+g).then(function(b){for(var d=b,f=a;d.length>0;){var g=d.indexOf("\n");if(-1==g){if(f+d.length===c.file.size){var h={start:f,end:c.file.size};f=f+d.length+1,c.fileMap.push(h)}break}var h={start:f,end:f+g};f=f+g+1,c.fileMap.push(h),d=d.length-1<g+1?"":d.substring(g+1,d.length-1)}return e(f,c)},f):void b.debug("file finished.",c)}function f(a){b.error("Error Generating File Map",a)}var g=10485760;return d.prototype.generateFileMap=function(){console.debug("generating file Map",this);return this.fileReader=c.newInstance(this.file),e(0,this)},d.prototype.readLine=function(a){return this.fileReader.read(a.start,a.end)},d.newInstance=function(a){return new d(a)},d}angular.module(APP.MODULE.FILE).service("fileFactory",["$q","$log","fileReaderSrvc",a])}(),function(){"use strict";function a(a,b){return{restrict:"A",link:function(a,c,d){b.model.readLine(a.line).then(function(b){a.lineContent=b})}}}angular.module(APP.MODULE.FILE).directive("fileLine",["$log","fileView",a])}(),function(){"use strict";function a(a){function b(a){this.file=a}function c(a,b){return function(){b.resolve(a.result)}}function d(a,b){return function(){b.reject(a.result)}}function e(a){var b=new FileReader;return b.onload=c(b,a),b.onerror=d(b,a),b}return b.prototype.readBytes=function(b,c){var d=a.defer(),f=e(d);return f.readAsArrayBuffer(this.file.slice(b,c)),d.promise},b.prototype.read=function(b,c){var d=a.defer(),f=e(d);return f.readAsText(this.file.slice(b,c)),d.promise},b.newInstance=function(a){return new b(a)},b}angular.module(APP.MODULE.FILE).service("fileReaderSrvc",["$q",a])}(),function(){"use strict";function a(a,b,c,d,e){function f(a,f,g){function h(a){a.stopPropagation(),a.preventDefault(),a.dataTransfer.dropEffect="copy"}function i(f){f.stopPropagation(),f.preventDefault(),b.model=d.newInstance(f.dataTransfer.files[0]),b.model.generateFileMap(),c.model=e.newInstance(b.model),a.$apply()}f.bind("dragover",h),f.bind("drop",i)}return{restrict:"A",scope:{},controller:["$scope","$element","$attrs",f],controllerAs:"fileSelectCtrl",link:function(){a.log("initialize file selector directive.")}}}angular.module(APP.MODULE.FILE).directive("fileSelect",["$log","fileView","pageView","fileFactory","pageFactory",a])}(),function(){function a(a){return function(d){if(angular.isDefined(d)&&!isNaN(d)){for(var e=0,f=1;d/f>1;)f*=c,e++;var g=d/(f/c);return a("number")(g,2)+" "+b[e-1]}return d}}angular.module(APP.MODULE.FILE).filter("fileSizeFilter",["$filter",a]);var b=["B","KB","MB","GB","TB"],c=1024}(),function(){"use strict";function a(a){var b;Object.defineProperty(this,"model",{configurable:!1,enumerable:!1,get:function(){return b},set:function(a){b=a}})}angular.module(APP.MODULE.FILE).service("fileView",["$log",a])}(),function(){"use strict";function a(){function a(a,b,c){}return{restrict:"E",templateUrl:"./templates/filters.htm",replace:!0,scope:{},controller:["$scope","$element","$attrs",a],controllerAs:"filterCtrl"}}angular.module(APP.MODULE.FILTERS).directive("filters",[a])}(),function(){"use strict";function a(a,b,c){this.model=b,a.countDigests=function(){},a.$watch("countDigests()")}var b=angular.module(APP.MODULE.MAIN);b.controller("mainController",["$scope","mainModel","$log",a])}(),function(){"use strict";function a(){function a(){this.fileModel,this.filteredFileManager}return a.prototype.setFileModel=function(a){this.fileModel=a,this.fileModel.generateFileMap()},a.prototype.setFilteredFileModel=function(a){this.filteredFileModel=a,this.fileModel.generateFileMap()},a.prototype.setPageModel=function(a){this.pageModel=a},a.prototype.getFileModel=function(){return this.fileModel},new a}angular.module(APP.MODULE.MAIN).service("mainModel",[a])}(),function(){"use strict";function a(){function a(a,b,c){}return{restrict:"E",templateUrl:"./templates/menu.htm",replace:!0,scope:{},controller:["$scope","$element","$attrs",a],controllerAs:"menuCtrl",link:function(){console.debug("menu directive")}}}angular.module(APP.MODULE.MENU).directive("menu",[a])}(),function(){"use strict";function a(){return{restrict:"A",require:"^^pagination",link:function(a,b,c,d){b.bind("click",d.first)}}}angular.module(APP.MODULE.NAV).directive("first",a)}(),function(){"use strict";function a(){return{restrict:"A",require:"^^pagination",link:function(a,b,c,d){b.bind("click",d.last)}}}angular.module(APP.MODULE.NAV).directive("last",a)}(),function(){"use strict";function a(){return{restrict:"A",require:"^^pagination",link:function(a,b,c,d){b.bind("click",d.next)}}}angular.module(APP.MODULE.NAV).directive("next",a)}(),function(){"use strict";function a(a){function b(){Object.defineProperty(this,"currentPage",{configurable:!1,enumerable:!1,get:function(){return f},set:function(a){f=a}}),Object.defineProperty(this,"linesPerPage",{configurable:!1,enumerable:!1,get:function(){return i},set:function(a){i=a,f=1,g=c()}}),Object.defineProperty(this,"totalLines",{configurable:!1,enumerable:!1,get:function(){return h},set:function(a){h=a,g=c()}}),Object.defineProperty(this,"totalPages",{configurable:!1,enumerable:!1,get:function(){return g}})}function c(){if(!isNaN(i)&&!isNaN(h)){var a=Math.max(i,1),b=Math.ceil(h/a);return Math.max(b,1)}return 1}var d=200,e=1,f=1,g=e,h=0,i=d;return b.newInstance=function(){return new b},b}angular.module(APP.MODULE.NAV).factory("pageFactory",["$log",a])}(),function(){"use strict";function a(){var a;Object.defineProperty(this,"model",{configurable:!1,enumerable:!1,get:function(){return a},set:function(b){a=b}})}angular.module(APP.MODULE.NAV).service("pageView",["$log",a])}(),function(){"use strict";function a(a,b,c,d){function e(a,d,e){function f(a,b){a!=b&&(console.debug("watch update page "),c.model.totalLines=a)}function g(){return angular.isDefined(b.model)&&angular.isDefined(b.model.fileMap)?b.model.fileMap.length:0}a.pageView=c,this.next=function(){c.model.currentPage<c.model.totalPages&&(c.model.currentPage++,a.$apply())},this.prev=function(){c.model.currentPage>1&&(c.model.currentPage--,a.$apply())},this.first=function(){c.model.currentPage=1,a.$apply()},this.last=function(){c.model.currentPage=c.model.totalPages,a.$apply()},a.$watch(g,f)}return{restrict:"E",templateUrl:"./templates/pagination.htm",replace:!0,scope:{},controller:["$scope","$element","$attrs",e],controllerAs:"pagingCtrl"}}angular.module(APP.MODULE.NAV).directive("pagination",["$log","fileView","pageView","pageFactory",a])}(),function(){"use strict";function a(a){return{restrict:"E",templateUrl:"./templates/pagingDetails.htm",replace:!0,scope:{},link:function(b){b.pageView=a}}}angular.module(APP.MODULE.NAV).directive("pagingDetails",["pageView",a])}(),function(){"use strict";function a(){return{restrict:"A",require:"^^pagination",link:function(a,b,c,d){b.bind("click",d.prev)}}}angular.module(APP.MODULE.NAV).directive("prev",a)}();